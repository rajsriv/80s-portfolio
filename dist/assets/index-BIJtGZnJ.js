(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const i of e)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function n(e){const i={};return e.integrity&&(i.integrity=e.integrity),e.referrerPolicy&&(i.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?i.credentials="include":e.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(e){if(e.ep)return;e.ep=!0;const i=n(e);fetch(e.href,i)}})();const d={root:null,rootMargin:"0px",threshold:.15},u=(s,t)=>{s.forEach(n=>{n.isIntersecting&&(n.target.classList.add("is-visible"),t.unobserve(n.target))})},f=new IntersectionObserver(u,d),m=document.querySelectorAll(".reveal-text, .reveal-img, .reveal-left, .reveal-right, .reveal-circle");m.forEach(s=>f.observe(s));class v{constructor(t){this.container=t,this.canvas=document.createElement("canvas"),this.canvas.className="focus-bg",this.ctx=this.canvas.getContext("2d"),t.firstChild?t.insertBefore(this.canvas,t.firstChild):t.appendChild(this.canvas),this.resize(),this.particles=[],this.mouse={x:null,y:null},this.animationId=null,this.initParticles(),this.addEvents(),this.animate()}resize(){this.canvas.width=this.container.offsetWidth,this.canvas.height=this.container.offsetHeight}initParticles(){for(let n=0;n<40;n++)this.particles.push({x:Math.random()*this.canvas.width,y:Math.random()*this.canvas.height,vx:(Math.random()-.5)*1.5,vy:(Math.random()-.5)*1.5,size:Math.random()*2+1})}addEvents(){this.moveHandler=t=>{const n=this.canvas.getBoundingClientRect();this.mouse.x=t.clientX-n.left,this.mouse.y=t.clientY-n.top},window.addEventListener("mousemove",this.moveHandler),this.resizeHandler=()=>this.resize(),window.addEventListener("resize",this.resizeHandler)}destroy(){cancelAnimationFrame(this.animationId),window.removeEventListener("mousemove",this.moveHandler),window.removeEventListener("resize",this.resizeHandler),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)}animate(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.particles.forEach((t,n)=>{if(t.x+=t.vx,t.y+=t.vy,(t.x<0||t.x>this.canvas.width)&&(t.vx*=-1),(t.y<0||t.y>this.canvas.height)&&(t.vy*=-1),this.mouse.x!=null){const o=this.mouse.x-t.x,e=this.mouse.y-t.y,i=Math.sqrt(o*o+e*e);i<150&&(this.ctx.beginPath(),this.ctx.strokeStyle=`rgba(255, 255, 255, ${1-i/150})`,this.ctx.lineWidth=1,this.ctx.moveTo(t.x,t.y),this.ctx.lineTo(this.mouse.x,this.mouse.y),this.ctx.stroke(),t.x+=o*.02,t.y+=e*.02)}this.ctx.beginPath(),this.ctx.arc(t.x,t.y,t.size,0,Math.PI*2),this.ctx.fillStyle="rgba(255,255,255,0.7)",this.ctx.fill()}),this.animationId=requestAnimationFrame(()=>this.animate())}}const c=document.querySelectorAll("section"),l=document.body;let r=null;function h(s){s.classList.contains("focused")||(r&&(r.destroy(),r=null),c.forEach(t=>t.classList.remove("focused")),s.classList.add("focused"),l.classList.add("has-focus"),r=new v(s))}function g(){r&&(r.destroy(),r=null),c.forEach(s=>s.classList.remove("focused")),l.classList.remove("has-focus")}c.forEach(s=>{s.addEventListener("click",t=>{s.classList.contains("focused")||h(s),t.stopPropagation()})});document.addEventListener("click",()=>{g()});window.addEventListener("scroll",()=>{if(!l.classList.contains("has-focus"))return;let s=null,t=1/0;const n=window.innerHeight/2;c.forEach(o=>{const e=o.getBoundingClientRect(),i=e.top+e.height/2,a=Math.abs(n-i);a<t&&(t=a,s=o)}),s&&!s.classList.contains("focused")&&h(s)});
